# knowledge.py - 股市新手村專屬資料庫
# 這裡存放最詳細的解說，與主程式分離

STOCK_TERMS = {
    "📊 技術指標篇 (Technical Analysis)": {
        "K線 (Candlestick)": """
        **定義**：紀錄一天股價走勢的圖形，由「開盤價、收盤價、最高價、最低價」四個價格組成。
        <br>**怎麼看**：
        - **紅K (陽線)**：收盤價 > 開盤價，代表當天買氣旺，股價上漲。實體越長，漲勢越強。
        - **綠K (陰線)**：收盤價 < 開盤價，代表當天賣壓重，股價下跌。實體越長，跌勢越重。
        - **影線**：上下突出的線條。長上影線代表「上方有賣壓」，長下影線代表「下方有支撐」。
        """,
        "MA 移動平均線 (Moving Average)": """
        **定義**：將過去 N 天的收盤價加總除以 N，連接起來的線，代表市場的「平均成本」。
        <br>**參數與意義**：
        - **5日線 (週線)**：短線操盤手的生命線。股價在5日線上代表極強勢；跌破通常代表短線轉弱，當沖客會在此停損。
        - **20日線 (月線)**：波段操作的關鍵，又稱「多空分水嶺」。站上月線視為多頭格局，跌破視為空頭格局。
        - **60日線 (季線)**：中長線保護傘。季線向上代表大趨勢看好，主力通常會護盤季線。
        """,
        "RSI 相對強弱指標 (Relative Strength Index)": """
        **定義**：用來判斷股價是否「漲過頭」或「跌過頭」的動能指標，數值介於 0~100。
        <br>**實戰應用**：
        - **RSI > 80 (超買區)**：代表短線過熱，買盤力竭，隨時可能拉回修正，不宜追高。
        - **RSI < 20 (超賣區)**：代表短線殺過頭，賣壓竭盡，隨時可能出現反彈，是搶短機會。
        - **50 中線**：RSI 在 50 以上代表多方強勢，50 以下代表空方強勢。
        """,
        "KD 隨機指標 (Stochastic Oscillator)": """
        **定義**：由 K 值 (快線) 與 D 值 (慢線) 組成，反應股價在最近一段時間內的強弱位置。
        <br>**實戰應用**：
        - **黃金交叉**：K 值由下往上穿過 D 值，且數值在 20 以下，是強烈買訊。
        - **死亡交叉**：K 值由上往下穿過 D 值，且數值在 80 以上，是賣出訊號。
        - **高檔鈍化**：當 K、D 值都在 80 以上持續很久，代表漲勢極強（軋空），此時不應賣出，反而要抱緊。
        """,
        "乖離率 (BIAS)": """
        **定義**：測量「目前股價」與「平均成本(均線)」的距離百分比。
        <br>**原理**：老人與狗理論。股價(狗)最終會回到均線(老人)身邊。
        <br>**實戰應用**：
        - **正乖離過大**：股價離均線太遠(漲太多)，獲利了結賣壓會出籠，容易回檔。
        - **負乖離過大**：股價離均線太遠(跌太深)，容易出現技術性反彈。
        """
    },
    "💰 籌碼與市場篇 (Chips & Market)": {
        "三大法人": """
        **定義**：指在台股市場資金最龐大的三群人，動向常決定大盤漲跌。
        1. **外資**：外國投資機構。資金部位最大，偏好大型權值股（如台積電），操作看重基本面與國際局勢，是波段推手。
        2. **投信**：國內的基金公司。募集散戶的錢來投資，偏好中小型股。每季底(3,6,9,12月)常有「作帳行情」，會拉抬自家持股。
        3. **自營商**：券商自己的投資部門。操作風格極短線，常追高殺低，對權證避險有影響。
        """,
        "融資與融券": """
        **定義**：散戶最常用的槓桿工具 (信用交易)。
        - **融資 (看多)**：覺得會漲但錢不夠，向券商借錢買股票。融資餘額過高代表散戶太多，籌碼凌亂，主力不愛拉抬。
        - **融券 (看空)**：覺得會跌，向券商借股票來賣，等跌下去再買回來還。
        - **軋空**：融券太多時，主力故意硬拉股價，逼空頭認賠回補(買回)，造成股價更猛烈的上漲。
        """,
        "當沖 (Day Trading)": """
        **定義**：當日沖銷。當天買進的股票，當天就賣掉，不留股票過夜。
        <br>**特色**：
        - 不用本金交割（只需補貼手續費與價差），可以以小博大。
        - 風險極高，需要極快的反應速度與紀律。
        - **選股邏輯**：通常挑選「成交量大」、「振幅大」的熱門股操作。
        """
    },
    "🏢 基本面篇 (Fundamental Analysis)": {
        "EPS 每股盈餘": """
        **定義**：Earnings Per Share。代表公司每一股「賺了多少錢」。
        <br>**公式**：稅後淨利 / 發行股數。
        <br>**意義**：EPS 是股價的基石。EPS 越高，通常股價越高。EPS 連續成長的公司最受歡迎。
        """,
        "本益比 (P/E Ratio)": """
        **定義**：計算「買進這檔股票，要幾年才能回本」。
        <br>**公式**：股價 / EPS。
        <br>**應用**：
        - 一般認為 10~15 倍算便宜，20 倍以上算貴。
        - 但高成長股（如 AI 產業）因為未來賺更多，市場願意給予 30 倍以上的本益比。
        """,
        "ROE 股東權益報酬率": """
        **定義**：股神巴菲特最看重的指標。代表公司利用股東的錢，能創造多少獲利效率。
        <br>**標準**：通常 ROE > 15% 且連續多年維持，才算是一間具備護城河的優秀公司。
        """,
        "殖利率 (Yield)": """
        **定義**：類似銀行的存款利息概念。
        <br>**公式**：現金股利 / 股價。
        <br>**應用**：存股族的最愛。通常殖利率 > 5% 視為高配息股。但要注意「賺了股息、賠了價差」的風險，且要看填息能力。
        """
    }
}

STRATEGY_DESC = """
### 🤖 AI 選股機器人邏輯揭密

**1. ⚡ 當沖快篩 (Day Trading)**
* **篩選條件**：
    1.  **爆量**：今日成交量 > 5日均量 的 **1.5倍**。
    2.  **大波動**：今日振幅 > **2%**。
* **背後邏輯**：有量才有價，有波動才有價差。我們尋找當天資金湧入且多空交戰激烈的戰場，適合短進短出。

**2. 📈 短線波段 (Swing Trading)**
* **篩選條件**：
    1.  **趨勢向上**：股價站上 **月線 (20MA)**。
    2.  **黃金交叉**：5日線 由下往上穿過 20日線。
* **背後邏輯**：月線是多空分水嶺，站上代表波段轉強；短線黃金交叉代表攻擊訊號出現，適合持有 3-10 天。

**3. 🐢 長線存股 (Long Term)**
* **篩選條件**：
    1.  **多頭排列**：股價 > 月線 > 季線 (均線發散向上)。
    2.  **籌碼穩定**：近期股價波動度適中，且離季線乖離率不大。
* **背後邏輯**：尋找長期趨勢穩健向上的標的，避免買在短線過熱點，適合沒時間看盤的投資人長期持有。
"""
